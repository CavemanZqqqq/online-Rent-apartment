{"ast":null,"code":"var _jsxFileName = \"/Users/zoujiaqi/goodp/src/pages/Comment/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from \"react\";\nimport { Input } from \"antd\";\nimport { Rate } from \"antd\";\nimport { useState } from \"react\";\nimport Mycontext from \"../Cart/Mycontext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  TextArea\n} = Input;\nexport default function Comment(props) {\n  _s();\n\n  const [txt, setTxt] = useState(\"\");\n  const [score, setScore] = useState(0); // 获取评分\n\n  function getVal(val) {\n    console.log(val);\n    setScore(val);\n  }\n\n  const value = useContext(Mycontext);\n  console.log(value); //提交\n\n  function submit() {\n    //1.获取输入内容， 打分， ==》 后台\n    console.log(txt, score);\n\n    if (txt !== \"\" && score > 0) {\n      //2. 请求后端 ===> 修改iscommit ===> 渲染页面\n      //3. 添加评论成功了， （1）评论 ==> 已评论 （通知父组件重新请求数据） （2）隐藏评论区\n      props.changeCurrent(0);\n    } else {\n      alert(\"请输入正确内容\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"0.2rem\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(TextArea, {\n        rows: 2,\n        value: txt,\n        onChange: e => {\n          setTxt(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [\"\\u8BC4\\u5206\\uFF1A\", /*#__PURE__*/_jsxDEV(Rate, {\n        allowClear: false,\n        value: score,\n        onChange: getVal,\n        defaultValue: 3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: submit,\n        children: \"\\u63D0\\u4EA4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"\\u53D6\\u6D88\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Comment, \"vpdSzy8gV3N/ROyDoajoj46tNYI=\");\n\n_c = Comment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Comment\");","map":{"version":3,"names":["React","useContext","Input","Rate","useState","Mycontext","TextArea","Comment","props","txt","setTxt","score","setScore","getVal","val","console","log","value","submit","changeCurrent","alert","padding","e","target"],"sources":["/Users/zoujiaqi/goodp/src/pages/Comment/index.jsx"],"sourcesContent":["import React, { useContext } from \"react\";\n\nimport { Input } from \"antd\";\nimport { Rate } from \"antd\";\n\nimport { useState } from \"react\";\n\nimport Mycontext from \"../Cart/Mycontext\";\n\nconst { TextArea } = Input;\n\nexport default function Comment(props) {\n  const [txt, setTxt] = useState(\"\");\n  const [score, setScore] = useState(0);\n\n  // 获取评分\n  function getVal(val) {\n    console.log(val);\n    setScore(val);\n  }\n\n  const value = useContext(Mycontext);\n  console.log(value)\n\n  //提交\n  function submit() {\n    //1.获取输入内容， 打分， ==》 后台\n    console.log(txt, score);\n    if (txt !== \"\" && score > 0) {\n      //2. 请求后端 ===> 修改iscommit ===> 渲染页面\n      //3. 添加评论成功了， （1）评论 ==> 已评论 （通知父组件重新请求数据） （2）隐藏评论区\n\n      props.changeCurrent(0);\n\n    } else {\n      alert(\"请输入正确内容\");\n    }\n  }\n\n  return (\n    <div style={{ padding: \"0.2rem\" }}>\n      {/* 文本 */}\n      <>\n        <TextArea\n          rows={2}\n          value={txt}\n          onChange={(e) => {\n            setTxt(e.target.value);\n          }}\n        />\n        <br />\n        <br />\n      </>\n      {/* 评分 */}\n      <>\n        评分：\n        <Rate\n          allowClear={false}\n          value={score}\n          onChange={getVal}\n          defaultValue={3}\n        />\n      </>\n      {/* 按钮 */}\n      <div>\n        <button onClick={submit}>提交</button>\n        <button>取消</button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AAEA,SAASC,KAAT,QAAsB,MAAtB;AACA,SAASC,IAAT,QAAqB,MAArB;AAEA,SAASC,QAAT,QAAyB,OAAzB;AAEA,OAAOC,SAAP,MAAsB,mBAAtB;;;AAEA,MAAM;EAAEC;AAAF,IAAeJ,KAArB;AAEA,eAAe,SAASK,OAAT,CAAiBC,KAAjB,EAAwB;EAAA;;EACrC,MAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBN,QAAQ,CAAC,EAAD,CAA9B;EACA,MAAM,CAACO,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,CAAD,CAAlC,CAFqC,CAIrC;;EACA,SAASS,MAAT,CAAgBC,GAAhB,EAAqB;IACnBC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACAF,QAAQ,CAACE,GAAD,CAAR;EACD;;EAED,MAAMG,KAAK,GAAGhB,UAAU,CAACI,SAAD,CAAxB;EACAU,OAAO,CAACC,GAAR,CAAYC,KAAZ,EAXqC,CAarC;;EACA,SAASC,MAAT,GAAkB;IAChB;IACAH,OAAO,CAACC,GAAR,CAAYP,GAAZ,EAAiBE,KAAjB;;IACA,IAAIF,GAAG,KAAK,EAAR,IAAcE,KAAK,GAAG,CAA1B,EAA6B;MAC3B;MACA;MAEAH,KAAK,CAACW,aAAN,CAAoB,CAApB;IAED,CAND,MAMO;MACLC,KAAK,CAAC,SAAD,CAAL;IACD;EACF;;EAED,oBACE;IAAK,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAX,CAAZ;IAAA,wBAEE;MAAA,wBACE,QAAC,QAAD;QACE,IAAI,EAAE,CADR;QAEE,KAAK,EAAEZ,GAFT;QAGE,QAAQ,EAAGa,CAAD,IAAO;UACfZ,MAAM,CAACY,CAAC,CAACC,MAAF,CAASN,KAAV,CAAN;QACD;MALH;QAAA;QAAA;QAAA;MAAA,QADF,eAQE;QAAA;QAAA;QAAA;MAAA,QARF,eASE;QAAA;QAAA;QAAA;MAAA,QATF;IAAA,gBAFF,eAcE;MAAA,8CAEE,QAAC,IAAD;QACE,UAAU,EAAE,KADd;QAEE,KAAK,EAAEN,KAFT;QAGE,QAAQ,EAAEE,MAHZ;QAIE,YAAY,EAAE;MAJhB;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA,gBAdF,eAwBE;MAAA,wBACE;QAAQ,OAAO,EAAEK,MAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QAxBF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA+BD;;GA3DuBX,O;;KAAAA,O"},"metadata":{},"sourceType":"module"}