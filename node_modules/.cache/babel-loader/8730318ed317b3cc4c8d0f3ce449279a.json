{"ast":null,"code":"var _jsxFileName = \"/Users/zoujiaqi/goodp/src/component/LoadMore/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoadMore(props) {\n  _s();\n\n  // 定义ref\n  let myref = useRef(); // 生命周期\n\n  useEffect(() => {\n    // 窗口高度\n    let winHeight = document.documentElement.clientHeight; // 滚动事件\n\n    window.addEventListener('scroll', scrollFn);\n\n    function scrollFn() {\n      // DOM元素的到顶部的高度\n      let divHeight = myref.current.offsetTop; // 被卷去的高度\n\n      let scrTop = document.documentElement.scrollTop;\n\n      if (scrTop + winHeight >= divHeight) {\n        console.log('--------loading'); // 请求下一页数据,状态提升\n\n        props.load(props.pageNum);\n      }\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: myref,\n    children: \"\\u52A0\\u8F7D\\u66F4\\u591A\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LoadMore, \"awmcGppYTtp2wFmrDKU0x6u3RtM=\");\n\n_c = LoadMore;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoadMore\");","map":{"version":3,"names":["React","useEffect","useRef","LoadMore","props","myref","winHeight","document","documentElement","clientHeight","window","addEventListener","scrollFn","divHeight","current","offsetTop","scrTop","scrollTop","console","log","load","pageNum"],"sources":["/Users/zoujiaqi/goodp/src/component/LoadMore/index.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react'\n\nexport default function LoadMore(props) {\n\n  // 定义ref\n  let myref = useRef();\n\n  // 生命周期\n  useEffect(()=>{\n    // 窗口高度\n    let winHeight = document.documentElement.clientHeight;\n    // 滚动事件\n    window.addEventListener('scroll',scrollFn);\n\n    function scrollFn(){\n      // DOM元素的到顶部的高度\n      let divHeight = myref.current.offsetTop;\n      // 被卷去的高度\n      let scrTop = document.documentElement.scrollTop;\n      \n      if (scrTop + winHeight >= divHeight) {\n        console.log('--------loading')\n\n        // 请求下一页数据,状态提升\n        props.load(props.pageNum);\n      }\n    }\n  },[])\n\n\n\n\n  return (\n    <div ref={myref}>\n      加载更多\n    </div>\n\n  )\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,QAAyC,OAAzC;;AAEA,eAAe,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;EAAA;;EAEtC;EACA,IAAIC,KAAK,GAAGH,MAAM,EAAlB,CAHsC,CAKtC;;EACAD,SAAS,CAAC,MAAI;IACZ;IACA,IAAIK,SAAS,GAAGC,QAAQ,CAACC,eAAT,CAAyBC,YAAzC,CAFY,CAGZ;;IACAC,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAiCC,QAAjC;;IAEA,SAASA,QAAT,GAAmB;MACjB;MACA,IAAIC,SAAS,GAAGR,KAAK,CAACS,OAAN,CAAcC,SAA9B,CAFiB,CAGjB;;MACA,IAAIC,MAAM,GAAGT,QAAQ,CAACC,eAAT,CAAyBS,SAAtC;;MAEA,IAAID,MAAM,GAAGV,SAAT,IAAsBO,SAA1B,EAAqC;QACnCK,OAAO,CAACC,GAAR,CAAY,iBAAZ,EADmC,CAGnC;;QACAf,KAAK,CAACgB,IAAN,CAAWhB,KAAK,CAACiB,OAAjB;MACD;IACF;EACF,CAnBQ,EAmBP,EAnBO,CAAT;EAwBA,oBACE;IAAK,GAAG,EAAEhB,KAAV;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAMD;;GApCuBF,Q;;KAAAA,Q"},"metadata":{},"sourceType":"module"}